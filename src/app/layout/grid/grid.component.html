<div id="scroll" (touchstart)="touchStart($event)" (touchend)="touchEnd($event)" (mousedown)="mouseStart($event)" (mouseup)="mouseUp($event)">
</div>
<div id="grid" >

  <div id="portateDiv"  >
    @for (portata of pages; track $index) {
    <div class="productsDiv" >
    <div class="products" id="{{portata}}">
      @if (products[portata].length == 0) {
      <h1 id="nessunProdotto">Non ci sono prodotti disponibili</h1>
      } @for (product of products[portata]; track $index) {
      <div class="product">
        <div class="infoButton" (click)="display.setTrue(product)">
          <img
            src="http://localhost:3000/img/infoProdotti.png"
            alt="info sul piatto"
            class="productInfoImg"
          />
        </div>
        <div class="productProprieties">
          <h3 class="productName">{{ product.nome }}</h3>
          <h3 class="ingredienti">{{ product.ingredienti }}</h3>
           @for (allergene of product.allergeni; track $index) {
          <img
            src="{{ allergeneImg(allergene) }}"
            alt="{{ allergene }}"
            class="allergene"
          />
          }
        </div>
        <div class="priceDiv">
          <h3 class="price">{{ product.prezzo }}</h3>
        </div>
      </div>
      }
    </div>
  </div>
  }
  
  </div>
  

  <div id="productInfo" [style]="display.value">
    <div id="productInfoDiv">
      <div id="productImgDiv">
        <img id="productImg" src="{{ display.product?.img }}" alt="" />
      </div>
      <div id="productInfoProprietiesDiv">
        <div id="productInfoProprieties">
          <h1 id="productInfoName">{{ display.product?.nome }}</h1>
          <h1 id="productInfoPrice">{{ display.product?.prezzo }}</h1>
          <h2 id="productInfoIngredienti">
            {{ display.product?.ingredienti }}
          </h2>
          @for (allergene of display.product?.allergeni; track $index) {
          <img
            src="{{ allergeneImg(allergene) }}"
            alt="{{ allergene }}"
            class="productInfoAllergeni"
          />
          }
        </div>
      </div>

      <div id="closeInfo">
        <button id="closeInfoButton" (click)="display.setFalse()">X</button>
      </div>
    </div>
  </div>
</div>
